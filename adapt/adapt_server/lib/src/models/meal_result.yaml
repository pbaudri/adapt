### AI-estimated or user-corrected nutritional result for a meal.
### One-to-one with meal_logs.
class: MealResult
table: meal_results

fields:
  ### FK ‚Üí meal_logs.id (one-to-one).
  mealLogId: int, relation(parent=meal_logs)
  ### AI-normalised meal name, e.g. "Big Mac Menu".
  name: String
  ### Auto-calculated: (proteinG√ó4) + (carbsG√ó4) + (fatG√ó9). Never user-supplied.
  caloriesKcal: int
  ### Protein in grams.
  proteinG: double
  ### Carbohydrates in grams.
  carbsG: double
  ### Fat in grams.
  fatG: double
  ### Zero-judgment AI message shown to the user.
  aiMessage: String
  ### Optional follow-up suggestion from AI.
  aiTip: String?
  ### How this result was produced.
  source: MealSource
  ### JSON array of 1‚Äì3 emojis representing meal components, e.g. '["üçù","ü•ó"]'.
  ### Null for legacy rows ‚Äî fall back to '["üçΩ"]' in display code.
  emojis: String?

indexes:
  meal_results_meal_log_id_unique_idx:
    fields: mealLogId
    unique: true
